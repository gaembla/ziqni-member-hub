"use strict";(self["webpackChunkziqni_member_home"]=self["webpackChunkziqni_member_home"]||[]).push([[759],{9759:(e,n,t)=>{t.r(n),t.d(n,{default:()=>p});var a=t(6835),o=t(8534),r=(t(1539),t(8862),t(7658),t(4448)),c=t(8549),s=t(2201),i={class:"login-page"},l={class:"login-form"};const u={__name:"Login",setup:function(e){var n=(0,s.tv)(),t=(0,r.ref)("1092564679937416"),u="c771c80ca14d9a4263a8deead17ce083",m=36e3,p=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var o,r,c,s;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o={member:t.value,apiKey:u,isReferenceId:!0,expires:m,resource:"ziqni-gapi"},e.next=3,fetch("https://api.ziqni.com/member-token",{method:"post",body:JSON.stringify(o),headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,c.data&&c.data.jwtToken?(s=c.data.jwtToken,localStorage.setItem("token",s),n.go(0)):console.error("Member Token Error",c.errors[0].message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=!!localStorage.getItem("token");return d&&n.push({name:"Dashboard"}),function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",l,[(0,r.createVNode)((0,r.unref)(c.jO),{type:"text",modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.value=e})},null,8,["modelValue"]),(0,r.createElementVNode)("button",{class:"m-btn login-btn",onClick:p}," Log In ")])])}}},m=u,p=m}}]);
//# sourceMappingURL=759.c8f77a3d.js.map